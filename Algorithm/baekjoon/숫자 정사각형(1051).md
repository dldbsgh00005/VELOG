```

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.*;

public class Main {

    /**
     * 완탐.
     *
     * 좌측 상단 -> 우측 하단
     * 우,하 n칸 이동 가능 여부 확인, 가능 시 좌표 값 확인, 모두 같다면 n을 최댓값에 저장, M에 닿을 때까지 확인
     *
     * **/

    static int N;
    static int M;

    static int max;

    static int[][] square;

    public static void main(String[] args) throws IOException {
        initialize();

        for(int a = 0; a < N; a++){
            for(int b = 0; b < M; b++){
                findSquare(a,b);
            }
        }

        System.out.println((int) Math.pow(Double.parseDouble(String.valueOf(max)), 2));
    }


    public static void initialize() throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        N = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken());
        square = new int[N][M];
        max = 0;

        for(int a = 0; a < N; a++){
            String[] numbers = br.readLine().split("");
            for(int b = 0; b < M; b++){
                square[a][b] = Integer.parseInt(numbers[b]);
            }
        }
    }

    public static void findSquare(int r, int c){
        for(int a = 0; a < N; a++){
            if(r+a >= N || c+a >= M) continue;

            if(square[r][c]==square[r+a][c] && square[r+a][c]==square[r][c+a] && square[r][c+a]==square[r+a][c+a]) max = Math.max(max, a+1);
        }
    }




}



```
