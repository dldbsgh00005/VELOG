### /etc/nginx/sites-available/example ì— ì‘ì„±í•  ì½”ë“œ

  server {
  set $domain [ë„ë©”ì¸];
    listen 80;
    server_name $domain;

    # ëª¨ë“  HTTP ìš”ì²­ì„ HTTPSë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
    return 301 https://$host$request_uri;
}
 
server {
    set $domain [ë„ë©”ì¸];
    listen 443 ssl http2;
    server_name $domain;

    # SSL ì¸ì¦ì„œì™€ í‚¤ íŒŒì¼ ê²½ë¡œ (Certbotìœ¼ë¡œ ë°œê¸‰ë°›ì€ ê²½ìš°)
    ssl_certificate /etc/letsencrypt/live/$domain/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/$domain/privkey.pem;

    # SSL í”„ë¡œí† ì½œ ë° ì•”í˜¸í™” ì„¤ì • (í•„ìš”ì— ë”°ë¼ ìˆ˜ì •)
    # ssl_protocols TLSv1.2 TLSv1.3;
    # ssl_prefer_server_ciphers on;
    # ssl_ciphers HIGH:!aNULL:!MD5;

    # # í•„ìš”í•œ ê²½ìš° HSTS í—¤ë” ì¶”ê°€
    # add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;

    # ì˜ˆ: ë°±ì—”ë“œ(Spring Boot ë“±)ë¡œ í”„ë¡ì‹œí•˜ëŠ” ê²½ìš°
    location [í˜¸ì¶œí•  ê²½ë¡œ] {
        proxy_pass http://localhost:8080;  # # ë°±ì—”ë“œ ì„œë²„ì˜ ì£¼ì†Œì™€ í¬íŠ¸
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # í”„ë¡ íŠ¸ì•¤ë“œ 
    # set $path [í”„ë¡ íŠ¸ ê²½ë¡œ]
    # location [í˜¸ì¶œí•  ê²½ë¡œ] {
    # root $path
    # try_files $uri $uri/ /index.html
    }
}

### ì„¤ì • íŒŒì¼ ì‘ì„± ì™„ë£Œ í›„
# >> sudo ln -s /etc/nginx/sites-available/ğŸ“Œì´ë¦„ğŸ“Œ /etc/nginx/sites-enabled/
# >> sudo nginx -t ğŸ“Œnginx ì„¤ì • ê²€ì‚¬í•˜ëŠ” ëª…ë ¹ì–´ğŸ“Œ
# >> sudo systemctl reload nginx ğŸ“Œì„¤ì • ì™„ë£Œ í›„ ë¦¬ë¡œë“œğŸ“Œ
